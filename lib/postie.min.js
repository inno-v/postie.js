((function(){var a,b;a=function(){function a(a){a==null&&(a={})}return a.prototype.listenCallback=null,a.prototype.send=function(a,b,c){return console.log(a)},a.prototype.listen=function(a){return this.listenCallback=a,this.bindEventListener},a.prototype.onMessage=function(a){return a=this.parseEvent(a),console.log(a),this.listenCallback(a)},a.prototype.parseEvent=function(a){return new b(a)},a.prototype.bindEventListener=function(){if(typeof window.addEventListener===!1)return window.addEventListener("message",this.onMessage,!1);if(typeof window.attachEvent===!1)return window.attachEvent("onmessage",this.onMessage)},a}(),b=function(){function a(a){a==null&&(a={}),this.origin=a.origin,this.data=JSON.parse(a.data),{data:this.data,origin:origin}}return a}()})).call(this);